TEST_CASE("Test Command") {
    Inventory inventory;
    CreateSucculent factory;
    Plant *peanut = factory.createPlant("PeanutCactus");
    peanut->setID("PC001");
    inventory.addPlant(peanut);

    Staff salesPerson("SalesBob");
    Customer customer("Alice", "CUST001", &salesPerson);
    InventoryClerk clerk("Bob");
    Horticulturist horti("Charlie");
    Manager manager("Dave");

    clerk.setNextHandler(&horti);
    horti.setNextHandler(&manager);

    clerk.assignJob(&inventory);

    Request *req1 = new Request(&customer, &clerk);
    req1->setPlantID("PC001");
    req1->setType("inventory");
    InventoryCommand cmd1(req1);
    clerk.handleCommand(&cmd1);

    Request *req2 = new Request(&customer, &horti);
    req2->setPlantID("PC002");
    req2->setType("greenhouse");
    GreenHouseCommand cmd2(req2);
    clerk.handleCommand(&cmd2);

    Request *req3 = new Request(&customer, &manager);
    req3->setPlantID("PC003");
    req3->setType("manager");
    ManagerCommand cmd3(req3);
    clerk.handleCommand(&cmd3);

    delete req1;
    delete req2;
    delete req3;
}
